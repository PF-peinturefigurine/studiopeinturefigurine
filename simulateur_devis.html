<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Studio PF : Simulateur de Devis Peinture Figurine & Impression 3D</title>
    <link rel="canonical" href="https://peinturefigurine.fr">
    <meta name="description" content="Studio PF propose des services de peinture sur figurines, personnalisation de d√©cors et impression 3D pour jeux, figurines de collection et guerre.">
    <meta name="keywords" content="peinture figurine, peinture Warhammer, peinture 3D, figurines de collection, peinture Tabletop, impression 3D figurines, d√©cors personnalis√©s, peinture sur demande">
    <meta name="author" content="FRASSE Pierre-Fran√ßois - Studio PF">
    <meta name="robots" content="index, follow">

    <!-- Open Graph -->
    <meta property="og:locale" content="fr_FR">
    <meta property="og:type" content="website">
    <meta property="og:title" content="Studio PF : Peinture Figurine & Impression 3D">
    <meta property="og:description" content="Studio PF propose des services de peinture sur figurines, personnalisation de d√©cors et impression 3D pour jeux, figurines de collection et guerre.">
    <meta property="og:url" content="https://peinturefigurine.fr">
    <meta property="og:site_name" content="Studio PF : Peinture Figurine">
    <meta property="og:image" content="https://peinturefigurine.fr/img/logo.png">
    <meta property="og:image:width" content="4032">
    <meta property="og:image:height" content="2308">
    <meta property="og:image:type" content="image/jpeg">

    <!-- Liens externes -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
    <link rel="icon" href="/img/favicon.png" type="image/png">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js" defer></script>
</head>
<body>
         <a href="index.html" class="logo-link" aria-label="Retour √† l'accueil">
                <p><img src="/img/logo.png" class="logo" alt="Logo Studio Peinture Figurine"></p><br>
             Retour Accueil</p>
            </a>
       
    <div id="contenu-principal">
        <h1>Demande de Devis</h1>
        <div class="center">
        <form id="contactForm">
            <fieldset>
                <legend>Coordonn√©es</legend>
                <div>
                    <input type="text" id="nom" name="nom" placeholder="Nom *" required>
                </div>
                <div>
                    <input type="text" id="prenom" name="prenom" placeholder="Pr√©nom *" required>
                </div>
                <div>
                    <input type="email" id="email" name="email" placeholder="Email *" required>
                </div>
                <div>
                    <input type="tel" id="telephone" name="telephone" placeholder="T√©l√©phone* " required>
                </div>
                <div>
                    <input type="text" id="adresse" name="adresse" placeholder="Adresse *" required>
                </div>
                <div>
                    <input type="text" id="cp" name="cp" placeholder="Code Postal *" required>
                </div>
                <div>
                    <input type="text" id="ville" name="ville" placeholder="Ville *" required>
                </div>
                <div>
                    <label for="pays">Pays : <span class="required">*</span></label><br>
                    <select id="pays" name="pays" required>
                        <option value="" disabled hidden>Choisissez un pays</option>
                        <option value="FRANCE" selected>France</option>
                        <option value="BELGIQUE">Belgique</option>
                        <option value="LUXEMBOURG">Luxembourg</option>
                        <option value="Autre">Autre (merci de pr√©ciser)</option>
                    </select>
                </div>
            </fieldset>


                     <div class="cardformg">
        <form id="contactdevis">
           
            
                <legend>Ma demande : </legend>
                
                <label for="niveau">Niveaux de Peinture :</label><br>
                <p>Niveau üí∏ Discount :<br> TableTop basique 3 couleurs, texture simple :<br> üöÄ Id√©al pour les petits budgets, Minimum efficace sans d√©tails.<br><br></p>           
                <p>Niveau ‚≠ê Essentiel :<br> TableTop+, Qualit√© sup√©rieur qui va √† l'essentiel :<br> üîç Parfait pour valoriser les figurines de jeu. Notre recommendation.<br><br></p>            
                <p>Niveau üëë Approfondi :<br> TableTop++, Qualit√© sup√©rieur plus approfondi :<br> üé® Chaque pi√®ce devient une ≈ìuvre d‚Äôart. Pour les pi√®ces principales.<br><br></p>
                <p>Niveau üé® Studio :<br> ‚ú® Limit√©e et r√©serv√©e aux passionn√©s souhaitant le meilleur:<br> üé® Pour la collection en vitrine.<br><br></p>
                <p>Le soclage est inclus.</p>
            <div class="cardform">
                <select id="niveau" class="select" name="niveau" required>
                    <option value="" disabled hidden>Choisissez un niveau</option>
                    <option value="niveau0" >Niveau Discount - TableTop basique 3 couleurs, √©quivalent Bronze</option> 
                    <option value="niveau1" selected>Niveau Essentiel - TableTop+, √©quivalent Gold</option>
                    <option value="niveau2">Niveau Approfondi - TableTop++, √©quivalent Diamond</option>
                    <option value="expo">Niveau Studio - Pi√®ce d'exposition pour vitrine</option>
                </select>
                <p><strong>Niveau s√©lectionn√© :</strong> <span id="afficheniveau"></span></p>
            </div>
            <div>
              
                <div id="petiteinfanterie" class="cardform">
                    <label for="petiteinfanterie-input">Nombre de <strong>Infanteries socle 20-25mm</strong> :</label><br>
                    <p>Exemple : Skinks, Nains Battle, Squelettes, Gobelins, Veroleux...</p>
                    <p>Prix unitaire : <span id="prixpetiteinfanterie">0.00</span> ‚Ç¨</p>
                    <p>Sous Total : <span id="totalpetiteinfanterie">0.00</span> ‚Ç¨</p>
                    <input type="number" id="petiteinfanterie-input" name="petiteinfanterie" min="0">
                </div>               
    
                <div id="infanterie" class="cardform">
                    <label for="infanterie-input">Nombre d'<strong>Infanteries socle 28-32mm</strong> :</label><br>
                    <p>Exemple : Space Marines, Stormcast, Votann, Soeurs de Bataille, Eldar...</p>
                    <p>Prix unitaire : <span id="prixinfanterie">0.00</span> ‚Ç¨</p>
                    <p>Sous Total : <span id="totalinfanterie">0.00</span> ‚Ç¨</p>
                    <input type="number" id="infanterie-input" name="infanterie" min="0">
                </div>

                <div id="infanterieelite" class="cardform">
                    <label for="infanterieelite-input">Nombre d'<strong>Infanteries √©lite socle 40-50mm</strong> :</label><br>
                    <p>Exemple : Terminators, Custodes, Kroxigors, Guerriers Tyranid...</p>
                    <p>Prix unitaire : <span id="prixinfanterieelite">0.00</span> ‚Ç¨</p>
                    <p>Sous Total : <span id="totalinfanterieelite">0.00</span> ‚Ç¨</p>
                    <input type="number" id="infanterieelite-input" name="infanterieelite" min="0">
                </div>

                <div id="personnage" class="cardform">
                    <label for="personnage-input">Nombre de <strong>Personnages √† Pied socle 25-32mm</strong> :</label><br>
                    <p>Exemple : Capitaine/Sergeant Space Marines, Sorcier...</p>
                    <p>Prix unitaire : <span id="prixpersonnage">0.00</span> ‚Ç¨</p>
                    <p>Sous Total : <span id="totalpersonnage">0.00</span> ‚Ç¨</p>
                    <input type="number" id="personnage-input" name="personnage" min="0">
                </div>

                                <div id="personnageelite" class="cardform">
                    <label for="personnageelite-input">Nombre de <strong>Personnages √©lite √† Pied socle 40-50mm</strong> :</label><br>
                    <p>Exemple : Capitaine/Sergeant Space Marines en armure Phobos, Sorcier armure terminator</p>
                    <p>Prix unitaire : <span id="prixpersonnageelite">0.00</span> ‚Ç¨</p>
                    <p>Sous Total : <span id="totalpersonnageelite">0.00</span> ‚Ç¨</p>
                    <input type="number" id="personnageelite-input" name="personnageelite" min="0">
                </div>
                <div id="personnagemonstrueux" class="cardform">
                    <label for="personnagemonstrueux-input">Nombre de <strong>Personnages Monstrueux socle 60-100mm</strong> :</label><br>
                    <p>Exemple : Primarques, Treelord, Prince Tyranid...</p>
                    <p>Prix unitaire : <span id="prixpersonnagemonstrueux">0.00</span> ‚Ç¨</p>
                    <p>Sous Total : <span id="totalpersonnagemonstrueux">0.00</span> ‚Ç¨</p>
                    <input type="number" id="personnagemonstrueux-input" name="personnagemonstrueux" min="0">
                </div>

                <div id="personnagesurmonstre" class="cardform">
                    <label for="personnagesurmonstre-input">Nombre de <strong>Personnages sur Monstres socle 120mm ovale</strong> :</label><br>
                    <p>Exemple : MetaRodeur, Tortue Idoneth, Saurus sur Carnosaure...</p>
                    <p>Prix unitaire : <span id="prixpersonnagesurmonstre">0.00</span> ‚Ç¨</p>
                    <p>Sous Total : <span id="totalpersonnagesurmonstre">0.00</span> ‚Ç¨</p>
                    <input type="number" id="personnagesurmonstre-input" name="personnagesurmonstre" min="0">
                </div>
 <div id="personnagesurgrandmonstre" class="cardform">
                    <label for="personnagesurgrandmonstre-input">Nombre de <strong>Personnages sur Grand Monstres socle 130-160mm ou sup√©rieur</strong> :</label><br>
                    <p>Exemple : Allareille, Dragon Stormcast, Dragon Crocodile...</p>
                    <p>Prix unitaire : <span id="prixpersonnagesurgrandmonstre">0.00</span> ‚Ç¨</p>
                    <p>Sous Total : <span id="totalpersonnagesurgrandmonstre">0.00</span> ‚Ç¨</p>
                    <input type="number" id="personnagesurgrandmonstre-input" name="personnagesurgrandmonstre" min="0">
                </div>
                <div id="cavalerie" class="cardform">
                    <label for="cavalerie-input">Nombre de <strong>Cavaleries socle ovale 60-75mm</strong> :</label><br>
                    <p>Exemple : Motos Eldar, Mur√®nes Idoneth, Cavalerie squelettes...</p>
                    <p>Prix unitaire : <span id="prixcavalerie">0.00</span> ‚Ç¨</p>
                    <p>Sous Total : <span id="totalcavalerie">0.00</span> ‚Ç¨</p>
                    <input type="number" id="cavalerie-input" name="cavalerie" min="0">
                </div>

                <div id="cavalerielourde" class="cardform">
                    <label for="cavalerielourde-input">Nombre de <strong>Cavaleries lourdes socle ovale 90-105mm</strong> :</label><br>
                    <p>Exemple : Motos Custodes, Saurus sur Aggradon, Requin Idoneth...</p>
                    <p>Prix unitaire : <span id="prixcavalerielourde">0.00</span> ‚Ç¨</p>
                    <p>Sous Total : <span id="totalcavalerielourde">0.00</span> ‚Ç¨</p>
                    <input type="number" id="cavalerielourde-input" name="cavalerielourde" min="0">
                </div>

                <div id="petitvehiculemonstre" class="cardform">
                    <label for="petitvehiculemonstre-input">Nombre de <strong>Petit V√©hicules/Monstres  socle ovale 75-90mm</strong> :</label><br>
                       <p>Exemple : Sentinel, B√™te de Nurgle, Drone...</p>
                    <p>Prix unitaire : <span id="prixpetitvehiculemonstre">0.00</span> ‚Ç¨</p>
                    <p>Sous Total : <span id="totalpetitvehiculemonstre">0.00</span> ‚Ç¨</p>
                    <input type="number" id="petitvehiculemonstre-input" name="petitvehiculemonstre" min="0">
                </div>
                <div id="vehiculemonstremoyen" class="cardform">
                    <label for="vehiculemonstremoyen-input">Nombre de <strong>V√©hicules/Monstres Moyen socle 80-100mm</strong> :</label><br>
                        <p>Exemple : Rhino, Dreadnought, Drone...</p>
                    <p>Prix unitaire : <span id="prixvehiculemonstremoyen">0.00</span> ‚Ç¨</p>
                    <p>Sous Total : <span id="totalvehiculemonstremoyen">0.00</span> ‚Ç¨</p>
                    <input type="number" id="vehiculemonstremoyen-input" name="vehiculemonstremoyen" min="0">
                </div>

                <div id="grosvehiculemonstre" class="cardform">
                    <label for="grosvehiculemonstre-input">Nombre de <strong>Gros V√©hicules/Monstres socle 90-100mm ou sup√©rieur</strong> :</label><br>
                    <p>Exemple : Pr√©dator, Plague Burst, Prince D√©mon, Armingers, Mancrusher...</p>
                    <p>Prix unitaire : <span id="prixgrosvehiculemonstre">0.00</span> ‚Ç¨</p>
                    <p>Sous Total : <span id="totalgrosvehiculemonstre">0.00</span> ‚Ç¨</p>
                    <input type="number" id="grosvehiculemonstre-input" name="grosvehiculemonstre" min="0">
                </div>

                <div id="enormevehiculemonstre" class="cardform">
                    <label for="enormevehiculemonstre-input">Nombre de <strong>√ânormes V√©hicules/Monstres socle 130-160mm ou sup√©rieur</strong> :</label><br>
                    <p>Exemple : Land Raider, Defiler, Aerodyne...</p>
                    <p>Prix unitaire : <span id="prixenormevehiculemonstre">0.00</span> ‚Ç¨</p>
                    <p>Sous Total : <span id="totalenormevehiculemonstre">0.00</span> ‚Ç¨</p>
                    <input type="number" id="enormevehiculemonstre-input" name="enormevehiculemonstre" min="0">
                </div>

                <div id="titanvehiculemonstre" class="cardform">
                    <label for="titanvehiculemonstre-input">Nombre de <strong>V√©hicules/Monstres Titanesques socle 170mm</strong> :</label><br>
                    <p>Exemple : Spartan, Imperial Knight, Mega Gargant...</p>
                    <p>Prix unitaire : <span id="prixtitanvehiculemonstre">0.00</span> ‚Ç¨</p>
                    <p>Sous Total : <span id="totaltitanvehiculemonstre">0.00</span> ‚Ç¨</p>
                    <input type="number" id="titanvehiculemonstre-input" name="titanvehiculemonstre" min="0">
                </div>

                <div id="montage">
                    <label for="montage-input"><strong>Montage</strong> √† pr√©voir ?</label><br>
                    <select id="montage-input" name="montage">
                        <option value="Oui" selected>Oui</option>
                        <option value="Non">Non</option>
                    </select> 
                </div>

                <div id="aimant">
                    <label for="aimant-input"><strong>Aimant</strong> √† pr√©voir ?</label><br>
                    <select id="aimant-input" name="aimant">
                        <option value="Oui">Oui</option>
                        <option value="Non" selected>Non</option>
                    </select>
                </div>
        
                <div id="total">
                    <h3 class="total"><span id="oktotal">0.00</span></h3>
                    <div id="comparative-table" class="center"></div>
                    <label for="message">Afin d'√™tre le plus pr√©cis possible,<br>Merci de d√©finir la liste de figurines √† peindre, si le montage est n√©cessaire,<br> et si vous avez un th√®me ou sch√©ma de couleurs d√©j√† d√©fini : <span class="required">*</span></label>
                </div>
                <br>
                <div><textarea id="message" name="message" rows="5" cols="30" required></textarea></div>

                <p><span class="required">*</span> Champs obligatoires</p>
                <div class="banniere"><button type="submit" class="button">Envoyer la demande par mail</button></div>
        
            
        </form>
    
    </div>

<script>

const niveauLabels = {
    niveau0: "Niveau üí∏ Discount - TableTop basique 3 couleurs, texture simple : üöÄ Id√©al pour les petits budgets, Minimum efficace sans d√©tails.",
    niveau1: "Niveau ‚≠ê Essentiel - TableTop+, Qualit√© sup√©rieur qui va √† l'essentiel : üîç Parfait pour valoriser les figurines de jeu. Notre recommendation.",
    niveau2: "Niveau üëë Approfondi - TableTop++, Qualit√© sup√©rieur plus approfondi : üé® Chaque pi√®ce devient une ≈ìuvre d‚Äôart. Pour les pi√®ces principales.",
    expo: "Niveau üé® Studio : ‚ú® Limit√©e et r√©serv√©e aux passionn√©s souhaitant le meilleur. Pour la collection en vitrine."
};

const niveauLabelsmini = {
    niveau0: "Discount",
    niveau1: "Essentiel",
    niveau2: "Appronfondi",
    expo: "Pi√®ce d'exposition"
};

const tariffs = {
    petiteinfanterie: { niveau0: 10, niveau1: 15, niveau2: 20},
    infanterie: { niveau0: 15, niveau1: 30, niveau2: 40},
    infanterieelite: { niveau0: 20, niveau1: 35, niveau2: 50 },
    personnage: { niveau0: 20, niveau1: 40, niveau2: 50},
      personnageelite: { niveau0: 30, niveau1: 50, niveau2: 70},
    personnagemonstrueux: { niveau0: 100, niveau1: 200, niveau2: 250 },
    personnagesurmonstre: { niveau0: 120, niveau1: 240, niveau2: 300 },
    personnagesurgrandmonstre: { niveau0: 160, niveau1: 320, niveau2: 400 },
    cavalerie: { niveau0: 20, niveau1: 35, niveau2: 50 },
    cavalerielourde: { niveau0: 30, niveau1: 45, niveau2: 60 },
    petitvehiculemonstre: { niveau0: 40, niveau1: 80, niveau2: 100},
    vehiculemonstremoyen: { niveau0: 60, niveau1: 120, niveau2: 150 },
    grosvehiculemonstre: { niveau0: 100, niveau1: 190, niveau2: 240},
    enormevehiculemonstre: { niveau0: 140, niveau1: 270, niveau2: 340},
    titanvehiculemonstre: { niveau0: 240, niveau1: 480, niveau2: 600 }
};

const categories = Object.keys(tariffs);

function calculateTotals() {
    const niveauSelect = document.getElementById("niveau");
    const niveau = niveauSelect?.value || "niveau1";
    const afficheniveau = document.getElementById("afficheniveau");
    const comparativeTable = document.getElementById("comparative-table");
    const oktotal = document.getElementById("oktotal");

    // V√©rification des √©l√©ments DOM n√©cessaires
    if (!niveauSelect || !afficheniveau || !comparativeTable || !oktotal) {
        console.error("Un ou plusieurs √©l√©ments DOM n√©cessaires sont manquants.");
        return;
    }

    // Mise √† jour du libell√© du niveau
    afficheniveau.textContent = niveauLabels[niveau];

    let totalGeneral = 0;

    // Cas particulier pour le niveau "expo"
    if (niveau === "expo") {
        categories.forEach(cat => {
            const divCat = document.getElementById(cat);
            if (divCat) divCat.style.display = "none";
        });

        ["aimant", "total", "montage"].forEach(id => {
            const el = document.getElementById(id);
            if (el) el.style.display = "none";
        });

        comparativeTable.innerHTML = "";
        oktotal.textContent = "Sur devis üí∏";
        return;
    }

    // Calcul du total pour chaque cat√©gorie
    categories.forEach(cat => {
        const divCat = document.getElementById(cat);
        const input = document.getElementById(`${cat}-input`);
        const prixCat = document.getElementById(`prix${cat}`);
        const totalCatEl = document.getElementById(`total${cat}`);

        if (divCat) divCat.style.display = "";
        if (!input || !prixCat || !totalCatEl) return;

        const qty = Number(input.value) || 0;
        const priceUnit = tariffs[cat][niveau] || 0;
        const totalCat = qty * priceUnit;

        prixCat.textContent = priceUnit.toFixed(2);
        totalCatEl.textContent = totalCat.toFixed(2);
        totalGeneral += totalCat;
    });

    // Affichage des champs suppl√©mentaires
    ["aimant-input", "total", "montage-input"].forEach(id => {
        const el = document.getElementById(id);
        if (el) el.style.display = "";
    });

    // Mise √† jour du total g√©n√©ral
    oktotal.innerHTML = `<strong>Total estim√© ${niveauLabelsmini[niveau]} </strong> : ${totalGeneral.toFixed(2)} ‚Ç¨`;

    // Gestion de la table comparative
    const previousLevel = {
        niveau0: "niveau1",
        niveau1: "niveau2",
        niveau2: "niveau1",
    }[niveau];

    comparativeTable.innerHTML = ""; // R√©initialisation du tableau

    if (!previousLevel || niveau === "expo") {
        return; // Pas de comparaison pour niveau2 ou si previousLevel n'existe pas
    }

    // Calcul du total pour le niveau pr√©c√©dent
    let totalPrevious = 0;
    categories.forEach(cat => {
        const qty = Number(document.getElementById(`${cat}-input`)?.value) || 0;
        const priceUnit = tariffs[cat][previousLevel] || 0;
        totalPrevious += qty * priceUnit;
    });

    // G√©n√©ration du tableau comparatif
    const niveauNumber = niveau.replace("niveau", "");
    const previousNiveauNumber = previousLevel.replace("niveau", "");
  if (niveau === "niveau2") {
    comparativeTable.innerHTML = `
        <table style="margin: 20px auto; border-collapse: collapse; width: 80%;">
            <thead>
                <tr style="background-color: #f2f2f2;">
                 <th style="border: 1px solid #ddd; padding: 8px; text-align: center;">${niveauLabelsmini[previousLevel]}</th>
                    <th style="border: 1px solid #ddd; padding: 8px; text-align: center;">${niveauLabelsmini[niveau]}</th>
                   
                </tr>
            </thead>
            <tbody>
                <tr>
                  
                    <td style="border: 1px solid #ddd; padding: 8px; text-align: center;">
                        <strong>Total :</strong> ${totalPrevious.toFixed(2)} ‚Ç¨<br>
                        <img src="img/exempleniveau${previousNiveauNumber}.jpg" alt="Exemple ${niveauLabelsmini[previousLevel]}" style="max-width: 150px; margin-top: 10px;">
                    </td>
                      <td style="border: 1px solid #ddd; padding: 8px; text-align: center;">
                        <strong>Total :</strong> ${totalGeneral.toFixed(2)} ‚Ç¨<br>
                        <img src="img/exempleniveau${niveauNumber}.jpg" alt="Exemple ${niveauLabelsmini[niveau]}" style="max-width: 150px; margin-top: 10px;">
                    </td>
                </tr>
            </tbody>
        </table>
    `;
  }
    else{
            comparativeTable.innerHTML = `
        <table style="margin: 20px auto; border-collapse: collapse; width: 80%;">
            <thead>
                <tr style="background-color: #f2f2f2;">
                    <th style="border: 1px solid #ddd; padding: 8px; text-align: center;">${niveauLabelsmini[niveau]}</th>
                    <th style="border: 1px solid #ddd; padding: 8px; text-align: center;">${niveauLabelsmini[previousLevel]}</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td style="border: 1px solid #ddd; padding: 8px; text-align: center;">
                        <strong>Total :</strong> ${totalGeneral.toFixed(2)} ‚Ç¨<br>
                        <img src="img/exempleniveau${niveauNumber}.jpg" alt="Exemple ${niveauLabelsmini[niveau]}" style="max-width: 150px; margin-top: 10px;">
                    </td>
                    <td style="border: 1px solid #ddd; padding: 8px; text-align: center;">
                        <strong>Total :</strong> ${totalPrevious.toFixed(2)} ‚Ç¨<br>
                        <img src="img/exempleniveau${previousNiveauNumber}.jpg" alt="Exemple ${niveauLabelsmini[previousLevel]}" style="max-width: 150px; margin-top: 10px;">
                    </td>
                </tr>
            </tbody>
        </table>
    `;
    }
}

function initializeFormCalculations() {
    calculateTotals();

    const form = document.getElementById("contactForm");
    if (form) {
        form.addEventListener("submit", function (event) {
            event.preventDefault();

            const requiredFields = form.querySelectorAll("[required]");
            let isValid = true;
            requiredFields.forEach(field => {
                if (!field.value.trim()) {
                    isValid = false;
                    field.classList.add("error");
                } else {
                    field.classList.remove("error");
                }
            });

            if (!isValid) {
                alert("Veuillez remplir tous les champs obligatoires.");
                return;
            }

            const nom = document.getElementById("nom").value;
            const prenom = document.getElementById("prenom").value;
            const email = document.getElementById("email").value;
            const telephone = document.getElementById("telephone").value;
            const adresse = document.getElementById("adresse").value;
            const cp = document.getElementById("cp").value;
            const ville = document.getElementById("ville").value;
            const pays = document.getElementById("pays").value;
            const niveau = document.getElementById("niveau").value;
            const montage = document.getElementById('montage-input').value || 0;
            const aimant = document.getElementById('aimant-input').value || 0;
            const message = document.getElementById("message").value;

            const quantities = {};
            categories.forEach(cat => {
                quantities[cat] = parseInt(document.getElementById(cat + '-input').value) || 0;
            });

            const totalText = document.getElementById("oktotal").textContent;
            const total = totalText.includes("‚Ç¨") ? parseFloat(totalText.replace(/[^\d.]/g, "")) : 0;

            const subject = `Demande de Devis de ${prenom} ${nom} - ${niveauLabelsmini[niveau]}`;

            let body = "";
            if (niveau === "expo") {
                body = `Bonjour,\n\nVoici ma demande de devis de peinture (${niveauLabelsmini[niveau]}) :\n` +
                       `${nom}\n${prenom}\n${adresse}\n${cp}\n` +
                       `${ville}\n${pays}\n${email}\n${telephone}\n\n` +
                       `Pi√®ce d'exposition - Sur devis uniquement\n\nMessage :\n${message}\n\nCordialement.`;
            } else {
                body = `Bonjour,\n\nVoici ma demande de devis de peinture (${niveauLabelsmini[niveau]}) :\n` +
                       `${nom}\n${prenom}\n${adresse}\n${cp}\n` +
                       `${ville}\n${pays}\n${email}\n${telephone}\n\n` +
                       categories.map(cat => `- ${cat} : ${quantities[cat]}`).join('\n') + `\n\n` +
                       `- Montage : ${montage}\n- Aimant : ${aimant}\n\n` +
                       `Total estim√© : ${total.toFixed(2)} ‚Ç¨\n\nMessage :\n${message}\n\nCordialement.`;
            }

            const mailtoURL = `mailto:studiopeinturefigurine@gmail.com?subject=${encodeURIComponent(subject)}&body=${encodeURIComponent(body)}`;
            window.location.href = mailtoURL;
        });
    }

    document.querySelectorAll("#contactForm input, #contactForm select").forEach(element => {
        element.addEventListener("input", calculateTotals);
    });
}

document.addEventListener("DOMContentLoaded", initializeFormCalculations);
</script>
</body>
</html>
