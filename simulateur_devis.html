<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Studio PF : Simulateur de Devis Peinture Figurine & Impression 3D</title>
    <link rel="canonical" href="https://peinturefigurine.fr">
    <meta name="description" content="Studio PF propose des services de peinture sur figurines, personnalisation de décors et impression 3D pour jeux, figurines de collection et guerre.">
    <meta name="keywords" content="peinture figurine, peinture Warhammer, peinture 3D, figurines de collection, peinture Tabletop, impression 3D figurines, décors personnalisés, peinture sur demande">
    <meta name="author" content="FRASSE Pierre-François - Studio PF">
    <meta name="robots" content="index, follow">

    <!-- Open Graph -->
    <meta property="og:locale" content="fr_FR">
    <meta property="og:type" content="website">
    <meta property="og:title" content="Studio PF : Peinture Figurine & Impression 3D">
    <meta property="og:description" content="Studio PF propose des services de peinture sur figurines, personnalisation de décors et impression 3D pour jeux, figurines de collection et guerre.">
    <meta property="og:url" content="https://peinturefigurine.fr">
    <meta property="og:site_name" content="Studio PF : Peinture Figurine">
    <meta property="og:image" content="https://peinturefigurine.fr/img/logo.png">
    <meta property="og:image:width" content="4032">
    <meta property="og:image:height" content="2308">
    <meta property="og:image:type" content="image/jpeg">

    <!-- Liens externes -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
    <link rel="icon" href="/img/favicon.png" type="image/png">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js" defer></script>
</head>
<body>
    <div id="contenu-principal">
        <h1>Simulateur de Devis Peinture</h1>
        <div class="center">
        <form id="contactForm">
            <fieldset>
                <legend>Coordonnées</legend>
                <div>
                    <label for="nom">Nom : <span class="required">*</span></label><br>
                    <input type="text" id="nom" name="nom" required>
                </div>
                <div>
                    <label for="prenom">Prénom : <span class="required">*</span></label><br>
                    <input type="text" id="prenom" name="prenom" required>
                </div>
                <div>
                    <label for="email">Email : <span class="required">*</span></label><br>
                    <input type="email" id="email" name="email" required>
                </div>
                <div>
                    <label for="telephone">Téléphone : <span class="required">*</span></label><br>
                    <input type="tel" id="telephone" name="telephone" required>
                </div>
                <div>
                    <label for="adresse">Adresse : <span class="required">*</span></label><br>
                    <input type="text" id="adresse" name="adresse" required>
                </div>
                <div>
                    <label for="cp">Code Postal : <span class="required">*</span></label><br>
                    <input type="text" id="cp" name="cp" required>
                </div>
                <div>
                    <label for="ville">Ville : <span class="required">*</span></label><br>
                    <input type="text" id="ville" name="ville" required>
                </div>
                <div>
                    <label for="pays">Pays : <span class="required">*</span></label><br>
                    <select id="pays" name="pays" required>
                        <option value="FRANCE" selected>France</option>
                        <option value="BELGIQUE">Belgique</option>
                        <option value="LUXEMBOURG">Luxembourg</option>
                        <option value="Autre">Autre (merci de préciser)</option>
                    </select>
                </div>
            </fieldset>

            <fieldset>
                <legend>Ma demande</legend>
                <label for="niveau">Niveau de Peinture :</label><br>
               <select id="niveau" name="niveau">
    <!-- <option value="niveau1">Niveau 1 - Prêt pour la bataille</option> -->
    <!-- <option value="niveau2">Niveau 2 - TableTop Simple et efficace</option> -->
    <option value="niveau3" selected>Niveau 3 - TableTop de Qualité supérieur</option>
    <option value="niveau4">Niveau 4 - TableTop d'exposition, Qualité vitrine</option>
                     <option value="expo">Pièce d'exposition</option>
</select>
                <p><strong>Niveau sélectionné :</strong> <span id="afficheniveau"></span></p>

                
                <div id="petiteinfanterie" class="card">
                <label for="petiteinfanterie">Nombre de <strong>petites Infanteries</strong> (socle 20-25mm) :</label><br>
                <p>Exemple : Skinks, Nains Battle, Gobelins, Veroleux...</p>
                <p>Prix unitaire (hors montage) : <span id="prixpetiteinfanterie">0.00</span> €</p>
                <p>Sous Total (hors montage) : <span id="totalpetiteinfanterie">0.00</span> €</p>
                <input type="number" id="petiteinfanterie" name="petiteinfanterie" min="0">
                </div>

                
               <div id="infanterie" class="card">
                <label for="infanterie">Nombre d'<strong>Infanteries</strong> (socle 28-32mm) :</label><br>
                <p>Exemple : Space Marines, Stormcast, Votann, Soeurs de Bataille, Eldar...</p>
                <p>Prix unitaire (hors montage) : <span id="prixinfanterie">0.00</span> €</p>
                <p>Sous Total (hors montage) : <span id="totalinfanterie">0.00</span> €</p>
                <input type="number" id="infanterie" name="infanterie" min="0">
 </div>

                
                <div id="infanterieelite" class="card">
                <label for="infanterieelite">Nombre d'<strong>Infanteries élite</strong> (socle 40-50mm) :</label><br>
                <p>Exemple : Terminators, Custodes, Kroxigors, Guerriers Tyranid...</p>
                <p>Prix unitaire (hors montage) : <span id="prixinfanterieelite">0.00</span> €</p>
                <p>Sous Total (hors montage) : <span id="totalinfanterieelite">0.00</span> €</p>
                <input type="number" id="infanterieelite" name="infanterieelite" min="0">
 </div>

                 <div id="personnage" class="card">
                <label for="personnage">Nombre de <strong>Personnages à Pied</strong> (socle 25-40mm) :</label><br>
                <p>Exemple : Capitaine/Sergeant Space Marines, Sorcier...</p>
                <p>Prix unitaire (hors montage) : <span id="prixpersonnage">0.00</span> €</p>
                <p>Sous Total (hors montage) : <span id="totalpersonnage">0.00</span> €</p>
                <input type="number" id="personnage" name="personnage" min="0">
 </div>

                <div id="personnagemonstrueux" class="card">
                <label for="personnagemonstrueux">Nombre de <strong>Personnages Monstrueux</strong> (socle 60-100mm) :</label><br>
                <p>Exemple : Primarques, Treelord, Prince Tyranid...</p>
                <p>Prix unitaire (hors montage) : <span id="prixpersonnagemonstrueux">0.00</span> €</p>
                <p>Sous Total (hors montage) : <span id="totalpersonnagemonstrueux">0.00</span> €</p>
                <input type="number" id="personnagemonstrueux" name="personnagemonstrueux" min="0">
 </div>

              <div id="personnagesurmonstre" class="card">
                <label for="personnagesurmonstre">Nombre de <strong>Personnages sur Monstres</strong> (socle 130mm ou supérieur) :</label><br>
                <p>Exemple : Allareille, Dragon Stormcast, Saurus sur Carnosaure...</p>
                <p>Prix unitaire (hors montage) : <span id="prixpersonnagesurmonstre">0.00</span> €</p>
                <p>Sous Total (hors montage) : <span id="totalpersonnagesurmonstre">0.00</span> €</p>
                <input type="number" id="personnagesurmonstre" name="personnagesurmonstre" min="0">
 </div>

                <div id="cavalerie" class="card">
                <label for="cavalerie">Nombre de <strong>Cavaleries</strong> (socle 60-75mm) :</label><br>
                <p>Exemple : Motos Eldar, Murènes Idoneth, Cavalerie squelettes...</p>
                <p>Prix unitaire (hors montage) : <span id="prixcavalerie">0.00</span> €</p>
                <p>Sous Total (hors montage) : <span id="totalcavalerie">0.00</span> €</p>
                <input type="number" id="cavalerie" name="cavalerie" min="0">
 </div>

              <div id="cavalerielourde" class="card">
                <label for="cavalerielourde">Nombre de <strong>Cavaleries lourdes</strong> (socle 90-105mm) :</label><br>
                <p>Exemple : Motos Custodes, Saurus sur Aggradon, Requin Idoneth...</p>
                <p>Prix unitaire (hors montage) : <span id="prixcavalerielourde">0.00</span> €</p>
                <p>Sous Total (hors montage) : <span id="totalcavalerielourde">0.00</span> €</p>
                <input type="number" id="cavalerielourde" name="cavalerielourde" min="0">
 </div>

                <div id="petitvehiculemonstre" class="card">
                <label for="petitvehiculemonstre">Nombre de <strong>Petits Véhicules/Monstres</strong> (socle 60-90mm) :</label><br>
                <p>Exemple : Rhino, Bête de Nurgle, Drone...</p>
                <p>Prix unitaire (hors montage) : <span id="prixpetitvehiculemonstre">0.00</span> €</p>
                <p>Sous Total (hors montage) : <span id="totalpetitvehiculemonstre">0.00</span> €</p>
                <input type="number" id="petitvehiculemonstre" name="petitvehiculemonstre" min="0">
 </div>

              <div id="grosvehiculemonstre" class="card">
                <label for="grosvehiculemonstre">Nombre de <strong>Gros Véhicules/Monstres</strong> (socle 100mm ou supérieur) :</label><br>
                <p>Exemple : Prédator, Plague Burst, Prince Démon, Armingers, Mancrusher...</p>
                <p>Prix unitaire (hors montage) : <span id="prixgrosvehiculemonstre">0.00</span> €</p>
                <p>Sous Total (hors montage) : <span id="totalgrosvehiculemonstre">0.00</span> €</p>
                <input type="number" id="grosvehiculemonstre" name="grosvehiculemonstre" min="0">
 </div>

               <div id="enormevehiculemonstre" class="card">
                <label for="enormevehiculemonstre">Nombre de <strong>Énormes Véhicules/Monstres</strong> (socle 120mm ou supérieur) :</label><br>
                <p>Exemple : Land Raider, Defiler, Aerodyne...</p>
                <p>Prix unitaire (hors montage) : <span id="prixenormevehiculemonstre">0.00</span> €</p>
                <p>Sous Total (hors montage) : <span id="totalenormevehiculemonstre">0.00</span> €</p>
                <input type="number" id="enormevehiculemonstre" name="enormevehiculemonstre" min="0">
 </div>

                <div id="titanvehiculemonstre" class="card">
                <label for="titanvehiculemonstre">Nombre de <strong>Véhicules/Monstres Titanesques</strong> (socle 130mm ou supérieur) :</label><br>
                <p>Exemple : Spartan, Imperial Knight, Mega Gargant...</p>
                <p>Prix unitaire (hors montage) : <span id="prixtitanvehiculemonstre">0.00</span> €</p>
                <p>Sous Total (hors montage) : <span id="totaltitanvehiculemonstre">0.00</span> €</p>
                <input type="number" id="titanvehiculemonstre" name="titanvehiculemonstre" min="0">
 </div>

                <div id="montage" class="card">
                <label for="montage"><strong>Montage</strong> à prévoir ?</label><br>
                <select id="montage" name="montage">
                    <option value="Oui" selected>Oui</option>
                    <option value="Non">Non</option>
                </select> 
 </div>

                    <div id="aimant" class="card">
                <label for="aimant"><strong>Aimant</strong> à prévoir ?</label><br>
                <select id="aimant" name="aimant">
                    <option value="Oui">Oui</option>
                    <option value="Non" selected>Non</option>
                </select>
                 </div>
        
                 <div id="total" class="card">
                <h3 class="total"><span id="oktotal">0.00</span></h3>
                <p>Estimation hors montage.</p><br>
                <label for="message">Afin d'être le plus précis possible, merci de définir la liste de figurines à peindre, si le montage est nécessaire, et si vous avez un thème ou schéma de couleurs déjà défini : <span class="required">*</span></label>
                 </div>
                <br> <div><textarea id="message" name="message" rows="5" cols="30" required></textarea></div>

                <p><span class="required">*</span> Champs obligatoires</p>
                <div class="banniere"><button type="submit" class="button">Envoyer la demande par mail</button></div>
            </fieldset>
        </form>
        </div>
    </div>

    <script>
// Labels des niveaux, déclaration globale pour pouvoir l'utiliser partout
const niveauLabels = {
    niveau1: "Niveau 1 - Basique de 3 Couleurs de base, pas de soclage.",
    niveau2: "Niveau 2 - 3 couleurs de base, 1 ombrage et 1 éclairci",
    niveau3: "Niveau 3 - Plus contrasté et nuancé. Techniques avancées : dégradé, lining, battle damages, weathering, OSL (effets de lumière).",
    niveau4: "Niveau 4 - Je donne mon maximum, MNM, TMNM, Free hand possible, digne pour mettre en vitrine. Détails plus poussés : gemmes réaliste, yeux, jeu de textures réalistes.",
    expo: "Pièce d'exposition - Sur devis uniquement."
};

function calculateTotals() {
    const niveau = document.getElementById('niveau').value;

    // Tarifs par catégorie et niveau
    const tariffs = {
        petiteinfanterie: { niveau1: 7, niveau2: 12, niveau3: 21, niveau4: 28 },
        infanterie: { niveau1: 12, niveau2: 21, niveau3: 28, niveau4: 45},
        infanterieelite: { niveau1: 13, niveau2: 21, niveau3: 35, niveau4: 78 },
        personnage: { niveau1: 21, niveau2: 35, niveau3: 70, niveau4: 124 },
        personnagemonstrueux: { niveau1: 70, niveau2: 105, niveau3: 210, niveau4: 369 },
        personnagesurmonstre: { niveau1: 113, niveau2: 175, niveau3: 315, niveau4: 630 },
        cavalerie: { niveau1: 16, niveau2: 21, niveau3: 42, niveau4: 75 },
        cavalerielourde: { niveau1: 21, niveau2: 26, niveau3: 54, niveau4: 87 },
        petitvehiculemonstre: { niveau1: 21, niveau2: 35, niveau3: 70, niveau4: 168 },
        grosvehiculemonstre: { niveau1: 70, niveau2: 113, niveau3: 210, niveau4: 393},
        enormevehiculemonstre: { niveau1: 105, niveau2: 140, niveau3: 280, niveau4: 491 },
        titanvehiculemonstre: { niveau1: 175, niveau2: 245, niveau3: 525, niveau4: 1050 }
    };

    const categories = [
        'petiteinfanterie', 'infanterie', 'infanterieelite', 'personnage',
        'personnagemonstrueux', 'personnagesurmonstre', 'cavalerie',
        'cavalerielourde', 'petitvehiculemonstre', 'grosvehiculemonstre',
        'enormevehiculemonstre', 'titanvehiculemonstre'
    ];

    let totalGeneral = 0;

    if (niveau === 'expo') {
        // Afficher les catégories en mode masqué
        categories.forEach(cat => {
            document.getElementById('prix' + cat).textContent = '-';
            document.getElementById('total' + cat).textContent = '-';

            // Masquer les div contenant les inputs des quantités
            const divCat = document.getElementById(cat);
            if(divCat) divCat.style.display = 'none';
        });

        // Masquer certains éléments du formulaire
        ['aimant', 'total', 'montage'].forEach(id => {
            const el = document.getElementById(id);
            if(el) el.style.display = 'none';
        });

        // Affichage spécifique pour expo
        document.getElementById('oktotal').textContent = "Pièce d'exposition - Sur devis uniquement";
        document.getElementById('afficheniveau').textContent = niveauLabels['expo'];

        return; // Fin de la fonction ici pour expo
    }

    // Sinon on affiche tout normalement
    categories.forEach(cat => {
        const divCat = document.getElementById(cat);
        if(divCat) divCat.style.display = ''; // Afficher

        // Récupérer quantité et prix unitaire selon niveau
        const qty = Number(document.getElementById(cat).value) || 0;
        const priceUnit = tariffs[cat][niveau] || 0;
        const totalCat = qty * priceUnit;

        // Mise à jour de l'affichage
        document.getElementById('prix' + cat).textContent = priceUnit.toFixed(2);
        document.getElementById('total' + cat).textContent = totalCat.toFixed(2);

        totalGeneral += totalCat;
    });

    // Afficher éléments du formulaire
    ['aimant', 'total', 'montage'].forEach(id => {
        const el = document.getElementById(id);
        if(el) el.style.display = '';
    });

    // Affichage total
    document.getElementById('oktotal').innerHTML = "<strong>Total Estimé</strong> (hors montage) : " + totalGeneral.toFixed(2) + "€";

    // Afficher description niveau
    document.getElementById('afficheniveau').textContent = niveauLabels[niveau] || "";
}

// Gestion formulaire, ajouter le listener une seule fois (en dehors de calculateTotals)
const form = document.getElementById("contactForm");
if (form) {
    form.addEventListener("submit", function(event) {
        event.preventDefault();

        // Validation champs obligatoires
        const requiredFields = form.querySelectorAll("[required]");
        let isValid = true;
        requiredFields.forEach(field => {
            if (!field.value.trim()) {
                isValid = false;
                field.classList.add("error");
            } else {
                field.classList.remove("error");
            }
        });

        if (!isValid) {
            alert("Veuillez remplir tous les champs obligatoires.");
            return;
        }

        // Récupération des valeurs
        const nom = document.getElementById("nom").value;
        const prenom = document.getElementById("prenom").value;
        const email = document.getElementById("email").value;
        const telephone = document.getElementById("telephone").value;
        const adresse = document.getElementById("adresse").value;
        const cp = document.getElementById("cp").value;
        const ville = document.getElementById("ville").value;
        const pays = document.getElementById("pays").value;
        const niveau = document.getElementById("niveau").value;
        const montage = document.getElementById("montage").value;
        const aimant = document.getElementById("aimant").value;
        const message = document.getElementById("message").value;

        // Récupérer quantités
        const categories = [
            'petiteinfanterie', 'infanterie', 'infanterieelite', 'personnage',
            'personnagemonstrueux', 'personnagesurmonstre', 'cavalerie',
            'cavalerielourde', 'petitvehiculemonstre', 'grosvehiculemonstre',
            'enormevehiculemonstre', 'titanvehiculemonstre'
        ];
        const quantities = categories.reduce((acc, cat) => {
            acc[cat] = parseInt(document.getElementById(cat).value) || 0;
            return acc;
        }, {});

        // Récupérer total (supprimer le texte "Total Estimé" et extraire juste le chiffre)
        const totalText = document.getElementById("oktotal").textContent;
        let total = 0;
        const match = totalText.match(/([\d,.]+)/);
        if(match) {
            total = parseFloat(match[1].replace(',', '.'));
        }

        // Création du mailto
        const subject = `Demande de Devis de ${prenom} ${nom} - ${niveauLabels[niveau]}`;
        const body = `Bonjour,\n\nVoici ma demande de devis de peinture (${niveauLabels[niveau]}) :\n` +
                     `${nom}\n${prenom}\n${adresse}\n${cp}\n` +
                     `${ville}\n${pays}\n${email}\n${telephone}\n\n` +
                     `- Petite Infanterie : ${quantities.petiteinfanterie}\n` +
                     `- Infanterie : ${quantities.infanterie}\n` +
                     `- Infanterie élite : ${quantities.infanterieelite}\n` +
                     `- Personnage : ${quantities.personnage}\n` +
                     `- Personnage Monstrueux : ${quantities.personnagemonstrueux}\n` +
                     `- Personnage sur Monstre : ${quantities.personnagesurmonstre}\n` +
                     `- Cavalerie : ${quantities.cavalerie}\n` +
                     `- Cavalerie lourde : ${quantities.cavalerielourde}\n` +
                     `- Petit Monstre/Véhicule : ${quantities.petitvehiculemonstre}\n` +
                     `- Gros Monstre/Véhicule : ${quantities.grosvehiculemonstre}\n` +
                     `- Énorme Monstre/Véhicule : ${quantities.enormevehiculemonstre}\n` +
                     `- Titan Monstre/Véhicule : ${quantities.titanvehiculemonstre}\n\n` +
                     `Montage : ${montage}\nAimant : ${aimant}\n\n` +
                     `Message supplémentaire : ${message}\n\n` +
                     `Total estimé (hors montage) : ${total.toFixed(2)}€\n\n` +
                     `Merci beaucoup.\n\n`;

        // Encoder et ouvrir mailto
        const mailtoLink = `mailto:studiopeinturefigurine@gmail.com?subject=${encodeURIComponent(subject)}&body=${encodeURIComponent(body)}`;
        window.location.href = mailtoLink;
    });
}
   // Ajout des écouteurs d'événements
        document.querySelectorAll("#contactForm input, #contactForm select").forEach(element => {
            element.addEventListener("input", calculateTotals);
        });

        // Initialisation
        document.addEventListener("DOMContentLoaded", calculateTotals);

    </script>
</body>
</html>
