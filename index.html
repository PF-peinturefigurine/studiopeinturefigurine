<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Balise Title optimisée -->
<title>Studio Peinture Figurine : Peinture sur Figurine & Impression 3D de Figurines sur Commande</title>

<!-- Meta Description optimisée -->
<meta name="description" content="Peinture sur figurine Warhammer et impression 3D résine haute qualité. Commandez une peinture tabletop ou vitrine sur mesure ! Devis gratuit.">

<!-- Meta Keywords (moins utilisé mais utile pour certains moteurs) -->
<meta name="keywords" content="studio peinture, commission, peintre sur figurine, peinture figurine, impression 3D figurines, peinture Warhammer, figurines tabletop, figurines vitrine, peinture miniature, figurines personnalisées, peinture 3D, figurines de collection, peinture Tableto">

<!-- Canonical URL -->
<link rel="canonical" href="https://peinturefigurine.fr/" >

<!-- Open Graph (Facebook, Instagram, LinkedIn) -->
<meta property="og:title" content="Peinture Figurine | Peinture & Impression 3D de Figurines sur Commande">
<meta property="og:description" content="Peinture sur figurine Warhammer et impression 3D résine de haute qualité. Commandez votre figurine personnalisée, du tabletop au niveau vitrine !">
<meta property="og:image" content="https://peinturefigurine.fr/img/preview.jpg">
<meta property="og:url" content="https://peinturefigurine.fr/">
<meta property="og:type" content="website">

<!-- Twitter Card -->
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="Peinture Figurine | Peinture & Impression 3D de Figurines">
<meta name="twitter:description" content="Service professionnel de peinture sur figurine Warhammer et impression 3D sur mesure. Devis rapide et qualité garantie !">
<meta name="twitter:image" content="https://peinturefigurine.fr/img/preview.jpg">
<meta name="twitter:site" content="@toncompteTwitter">

<!-- Robots (indexation SEO) -->
<meta name="robots" content="index, follow">
  
   
    
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
    <link rel="icon" href="/img/favicon.png">
    <link rel="sitemap" type="application/xml" title="Sitemap" href="/sitemap.xml">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
    
    <script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "LocalBusiness",
  "name": "Peinture Figurine",
  "image": "https://peinturefigurine.fr/img/preview.jpg",
  "@id": "https://peinturefigurine.fr/",
  "url": "https://peinturefigurine.fr/",
  "telephone": "07 75 86 08 37",
  "address": {
    "@type": "PostalAddress",
    "streetAddress": "6 rue Benjamin Franklin",
    "addressLocality": "Feurs",
    "postalCode": "42110",
    "addressCountry": "FR"
  },
  "openingHoursSpecification": [{
    "@type": "OpeningHoursSpecification",
    "dayOfWeek": [
      "Monday",
      "Tuesday",
      "Wednesday",
      "Thursday",
      "Friday"
    ],
    "opens": "09:00",
    "closes": "18:00"
  }],
  "sameAs": [
    "https://www.instagram.com/peinturefigurine.fr",
    "https://www.facebook.com/peinturefigurine.fr"
  ]
}
</script>
    
</head>
<body>
<script>
let delaidispo;
let moisChiffre; // Utilisation de 'let' car la valeur de moisChiffre change
let messageinfo;

// Chargement des données du mois
fetch('/data/mois.txt')
    .then(response => response.text())
    .then(texte => {
        moisChiffre = parseInt(texte.trim(), 10); // Conversion en entier et suppression des espaces
        convertirMois(); // Appel de la fonction après avoir récupéré le mois
    });

// Dictionnaires des mois en français
const moisFr = {
    1: "Janvier", 2: "Février", 3: "Mars", 4: "Avril", 5: "Mai", 6: "Juin",
    7: "Juillet", 8: "Août", 9: "Septembre", 10: "Octobre", 11: "Novembre", 12: "Décembre"
};

// Fonction de conversion et d'affichage
function convertirMois() {
    // Vérification de la validité du mois
    if (moisChiffre >= 1 && moisChiffre <= 12) {
        const moisFrancais = moisFr[moisChiffre];
        // Mise à jour des éléments sur la page
        delaidispo = moisFrancais;
        document.getElementById("resultat").textContent = delaidispo; // Affichage du mois sur la page
    } else {
        alert("Veuillez entrer un mois valide (entre 1 et 12).");
    }
}

// Chargement du message d'information
fetch('/data/messageinfo.txt')
    .then(response => response.text())
    .then(texte => {
        // Vérifie si le texte est vide ou contient uniquement des espaces
        messageinfo = texte.trim() === '' ? "Pas d'informations pour le moment" : texte;
       if (messageinfo === '') {
    document.querySelector('.info-container').style.display = 'none';
    document.querySelector('.info').style.display = 'none';
}
        updateParagraph(); // Appel de la fonction après avoir récupéré le message
    })
    .catch(error => {
        messageinfo = "error";
        updateParagraph();
    });

function updateParagraph() {
    const paragraph = document.getElementById('infoParagraph');
    if (paragraph) {
        paragraph.textContent = messageinfo; // Met le contenu dans le <p>
    }
}

// Fonction pour vérifier si l'utilisateur est sur mobile
function isMobile() {
    return window.innerWidth <= 768;
}


// Fonction AJAX pour charger le contenu des pages
function loadPage(page) {
  $("#contenu-principal").fadeOut(200, function () {
    $(this).load(page + " #contenu-principal", function (response, status, xhr) {
      if (status === "error") {
        $(this).html("<p>Une erreur est survenue lors du chargement de la page.</p>");
        return;
      }

      $(this).fadeIn(200);
      adjustMenuVisibility();

      // Réinitialiser les scripts en fonction de la page chargée
      switch (page) {
        case "simulateur_devis.html":
          if (typeof initializeFormCalculations === "function") initializeFormCalculations();
          break;

        case "formation.html":
          if (typeof initializeFormationForm === "function") initializeFormationForm();
          break;

        case "galerie.html":
          if (typeof initializeGalerie === "function") initializeGalerie();
          break;
      }
    });
  });
}

        // Ajuster la visibilité du menu selon la taille de l'écran
        function adjustMenuVisibility() {
            const menu = $("#formSection");
            if (isMobile()) {
                menu.hide();
            } else {
                menu.show();
            }
        }
        
// Initialisation au chargement de la page
window.onload = function() {
    // Fermer le chat initialement
    fermechat();

    // Retarder l'affichage du message du bot après 30 secondes
    setTimeout(function() {
        const chatContent = document.getElementById("chatContent");

        // Vérifier si l'élément chatContent existe et est vide
        if (chatContent && chatContent.innerHTML === "") {
            // Ouvrir le chat
            ouvrechat();

            // Ajouter le message du bot au chat
            chatContent.innerHTML += `
                <div class="blocchat">
                    <div class="bot-message">
                        <p><strong>Peinture de Figurines :</strong><br>
                        Bienvenue ! En quoi puis-je vous aider ? 😊<br>
                        Voici ce que je peux faire pour vous :<br><br>- 📌 Informations sur les services :<br>Studio Peinture Figurine propose un service de peinture sur figurine TableTop et de vitrine.<br><br>Nous proposons également un service de montage de vos figurines et d'impression 3D.<br>- 🎨 Conseils de peinture : Tapez "conseil"<br><br>- 💰 Demande de devis : <br><a href="simulateur_devis-fr.html" onclick="loadPage('simulateur_devis-fr.html'); scrollToTop(); fermechat(); return false;">Simulateur de devis 💰</a><br><br><br>- 📆 Disponibilité actuelle :<br>Mon agenda de service de peinture est disponible à partir de <strong>${delaidispo}</strong> actuellement.<br><br>- 🤣 Une blague ? Tapez "blague"</p>
                    </div>
                </div>
            `;
        }
    }, 240000);

    // Initialiser les formulaires de devis et formation
    initializeFormationForm();
    initializeFormCalculations();
initializeGalerie();
    // Ajuster la visibilité du menu
    adjustMenuVisibility();

    // Afficher ou masquer le bouton "scroll to top" en fonction du défilement
    $(window).on("scroll", function() {
        $("#scrollToTopBtn").toggle($(document).scrollTop() > 50);
    });

    // Ajuster la visibilité du menu lors du redimensionnement
    $(window).on("resize", adjustMenuVisibility);
};

// Fonctions du chat
function ouvrechat() {
    $('#chatBox').toggle();
    const inputElement = document.getElementById("chatInput");
    const chatButton = document.getElementById('chat-button');
    if (inputElement) inputElement.focus();
    if (chatButton) chatButton.style.display = 'none';
}

function fermechat() {
    $('#chatBox').toggle();
    const chatButton = document.getElementById('chat-button');
    if (chatButton) chatButton.style.display = 'block';
}


function handleKeyPress(event) {
    if (event.key === "Enter") {
        event.preventDefault(); // Empêche un comportement indésirable
        sendMessage(); // Envoie le message
    } else {
        var inputElement = document.getElementById("chatInput");
        var sendButton = document.getElementById("sendButton");
        if (inputElement && sendButton) {
            sendButton.style.display = inputElement.value.trim() === "" ? "none" : "block"; // Affiche ou cache le bouton d'envoi
        }
    }
}
function escapeHtml(text) {
    return text.replace(/[&<>"']/g, function (m) {
        return {
            '&': '&amp;',
            '<': '&lt;',
            '>': '&gt;',
            '"': '&quot;',
            "'": '&#039;'
        }[m];
    });
}

function sendMessage() {
    const inputElement = $("#chatInput");
    const chatContent = document.getElementById("chatContent");
    const sendButton = document.getElementById("sendButton");
    const input = inputElement.val().trim().toLowerCase();
    if (!input) return;

    const conseils = [
        'Pour améliorer vos éclaircissements, utilisez la technique du "layering" avec des transitions progressives.',
        'Appliquez un lavis pour approfondir les ombrages avant d\'ajouter un éclaircissement sur les zones exposées.',
        'Pour un rendu plus naturel, travaillez les éclaircissements par petites couches pour une transition fluide.',
        'Les détails minutieux font la différence, optez pour un pinceau taille 0 ou 00 pour plus de précision.',
        'Utilisez un pinceau fin pour les petits détails, en évitant les excès de peinture.',
        'Pour un socle réaliste, ajoutez de la texture comme du sable, de la neige artificielle ou des éléments naturels.'
    ];

    const randomIndex2 = Math.floor(Math.random() * conseils.length);
    const conseil = conseils[randomIndex2];

    const datedispo = delaidispo;
    const blagues = [
        "Pourquoi les peintres de figurines ne jouent-ils jamais à cache-cache ? Parce qu'ils savent que personne ne pourra jamais les retrouver sous leur couche de peinture ! 😄",
        "Pourquoi les figurines peintes détestent-elles les peintures à l'huile ? Parce qu'elles ont peur de se faire maculer ! 😆",
        "Pourquoi les figurines détestent-elles les aérographes ? Parce qu'elles trouvent que ça met toujours trop de pression ! 😆",
        "Pourquoi les figurines ne se disputent-elles jamais ? Parce qu'elles savent qu'elles finiront toujours par se mettre d'accord sur un socle ! 😄"
    ];

    const randomIndex = Math.floor(Math.random() * blagues.length);
    const blague = blagues[randomIndex];

    let response = "Je n'ai pas compris votre demande.<br> Si je ne comprends pas certains mots.<br> Dites-le moi par mail 📧 : <a href='mailto:studiopeinturefigurine@gmail.com'>studiopeinturefigurine@gmail.com</a>";

    if (input.match(/(contact|formulaire|devis|tarif|commande|estimation|prix)/i)) {
        response = 'Voici notre formulaire de contact :<br><a href="simulateur_devis.html" onclick="loadPage(\'simulateur_devis.html\'); scrollToTop(); fermechat(); return false;">Simulateur de devis 💰</a>';
    } else if (input.match(/(bonjour|coucou|bonsoir|salut|wesh|yo|cc)/i)) {
        response = 'Bonjour 😀 Comment puis-je vous aider ? Pour savoir ce que je peux faire, tapez "aide".';
    } else if (input.match(/(merci|remercie|ca va)/i)) {
        response = 'Merci à toi 😀';

           } else if (input.match(/(service|services|commission|commissions|prestation|prestations)/i)) {
        response = "Studio Peinture Figurine propses un service de Peinture sur Figurine TableTop et Exposition.<br>Mais également le service de montage de vos figurines et de l'impression 3D.";

           } else if (input.match(/(peinture|peindre|peintre)/i)) {
        response = 'Que recherchez vous ?<br><br>Faire peindre vos figurines ?<br><a href="simulateur_devis.html" onclick="loadPage(\'simulateur_devis.html\'); scrollToTop(); fermechat(); return false;">Simulateur de devis 💰</a><br><br>Ou apprendre la peinture suir figurine ?<br><a href="formation.html" onclick="loadPage(\'formation.html\'); return false;">Formation 📚</a><br><br>Les deux sont possibles !';
        
    } else if (input.match(/(blague|rire|lol|mdr)/i)) {
        response = blague + '<br>Plus de blagues tapez "blague"<br>';
    } else if (input.match(/(infos|info|informations|conditions|condition)/i)) {
        response = 'Voici des informations utiles :<br> <a href="conditions.html" onclick="loadPage(\'conditions.html\'); scrollToTop(); fermechat(); return false;">Conditions générales de vente 📜</a>';
    } else if (input.match(/(cours|formation|apprendre|conseil|conseils|lavis|éclaircissement|pinceau|aerographe|aero)/i)) {
        response = conseil + '<br>Plus de conseils tapez "conseil"<br><br>' + 'Pour vous former contactez-moi : <br><a href="formation.html" onclick="loadPage(\'formation.html\'); fermechat(); return false;">Formation 📚</a>';
    } else if (input.match(/(impression 3d|stl|imprimante|3D)/i)) {
        response = 'Nous proposons un service d\'impression 3D haute qualité ! <br>Voici les détails :<br><a href="impression3d.html" onclick="loadPage(\'impression3d.html\'); fermechat(); return false;">Impression 3D 🖨️</a>';
} else if (input.match(/(aide|menu|que peux-tu faire)/i)) {
    response = 'Voici ce que je peux faire pour vous :<br><br>- 📌 Infos sur les services :<br>Studio Peinture Figurine propose un service de peinture sur figurines TableTop et Exposition.<br><br>Mais également un service de montage de vos figurines et d\'impression 3D.<br>- 🎨 Conseils de peinture : Tapez "conseil"<br><br>- 💰 Demande de devis : <br><a href="simulateur_devis.html" onclick="loadPage(\'simulateur_devis.html\'); scrollToTop(); fermechat(); return false;">Simulateur de devis 💰</a><br><br><br>- 📆 Disponibilité actuelle :<br>Mon planning de service de peinture est disponible à partir de <strong>' + datedispo + '</strong> actuellement.<br><br>- 🤣 Une blague ? Tapez "blague"';
} else if (input.match(/(modalités de paiement|paiement|acompte|arrhes|arrhe)/)) {
    response = 'Les modalités de paiement sont les suivantes :<br>' +
               '- **20%** pour réserver un créneau.<br>' +
               '- **30%** au démarrage ou **50%** directement en remplacement des deux premières étapes.<br>' +
               '- **50%** restants à la validation finale sur photos (présentation à 80% d\'avancement).<br>' +
               'Nous acceptons les paiements par virement, carte bancaire ou PayPal <br>(des frais de 4% s\'appliquent pour PayPal). Une réduction de 4% est accordée pour les paiements hors PayPal.';
} else if (input.match(/(délais|temps|délai|delai|dispo|disponibilité)/)) {
    response = 'Mon planning de service de peinture est disponible à partir de <strong>' + datedispo + '</strong> actuellement.<br><br>' +
               'Les délais de réalisation sont les suivants :<br>' +
               '- Impression 3D : sous 72h ouvrées (hors peinture).<br>' +
               '- Peinture TableTop :<br>' +
               '  - Niveau 1 et 2 : 1 à 2 mois.<br>' +
               '  - Niveau 3 : 2 à 4 mois.<br>' +
               '- Peinture Vitrine : 4 à 6 mois.';
} else if (input.match(/(livraison|port|expédition)/)) {
    response = 'Nous expédions via Colissimo ou Mondial Relay. Les frais de port sont offerts à partir de 1200€ de commande. Voici les tarifs d\'envoi :<br>' +
               '- Colissimo :<br>' +
               '  - Jusqu\'à 0,5 kg : 8€<br>' +
               '  - Jusqu\'à 1 kg : 10€<br>' +
               '  - Jusqu\'à 2 kg : 12€<br>' +
               '- Mondial Relay :<br>' +
               '  - Jusqu\'à 0,5 kg : 5€<br>' +
               '  - Jusqu\'à 1 kg : 6€<br>' +
               '  - Jusqu\'à 2 kg : 8€';
} else if (input.match(/(publication|photos|photo|pub|publicité)/)) {
    response = 'Le Studio Peinture Figurine se réserve le droit de publier 📷 des photos et vidéos des figurines peintes.';
} else if (input.match(/(annulation|remboursement|désistement)/)) {
    response = 'Les arrhes et acomptes versés ne sont pas remboursables en cas de désistement.<br> Le paiement des arrhes valide le devis. Des frais de 30% s\'appliquent pour les commandes urgentes (moins de 15 jours). Si les figurines ne sont pas envoyées dans un délai de plus de 3 mois à compter de la date de démarrage du projet, celui-ci sera automatiquement annulé et les arrhes conservées.';
} else if (input.match(/(propriété intellectuelle|droits d'auteur|œuvre)/)) {
    response = 'Les œuvres réalisées sont protégées par le droit d\'auteur.';
}
    else if (input.match(/(je t'aime|i love u|te quiero|je taime|❤️)/)) {
    response = "Moi aussi je t'aime. ❤️";
}
    else if (input.match(/(gaelle frasse|gaelle goujon)/)) {
    response = "Je t'aime plus que tout mon épouse chérie. ❤️❤️❤️";
}
               chatContent.innerHTML += `
                <div class="blocchat">
                    <div class="user-message">
                        <p><strong>Vous :</strong><br> ${escapeHtml(input)}</p>
                    </div>
                    <div class="bot-message">
                        <p><strong>Peinture Figurine :</strong><br> ${response}</p>
                    </div>
                </div>
            `;

            inputElement.val("");
            sendButton.style.display = "none";
            chatContent.scrollTop = chatContent.scrollHeight;
        }





 const niveauLabels = {
    niveau1: "Niveau 1 - Basique de 3 Couleurs de base, pas de soclage.",
    niveau2: "Niveau 2 - 3 couleurs de base, 1 ombrage et 1 éclairci",
    niveau3: "Niveau 3 - Plus contrasté et nuancé. Techniques avancées : dégradé, lining, battle damages, weathering, OSL (effets de lumière).",
    niveau4: "Niveau 4 - Je donne mon maximum, MNM, TMNM, Free hand possible, digne pour mettre en vitrine. Détails plus poussés : gemmes réaliste, yeux, jeu de textures réalistes.",
    expo: "Pièce d'exposition - Sur devis uniquement."
};
 const niveauLabelsmini = {
    niveau1: "Niveau 1",
    niveau2: "Niveau 2",
    niveau3: "Niveau 3",
    niveau4: "Niveau 4",
    expo: "Pièce d'exposition"
};
const tariffs = {
    petiteinfanterie: { niveau1: 7, niveau2: 12, niveau3: 21, niveau4: 28 },
    infanterie: { niveau1: 12, niveau2: 21, niveau3: 28, niveau4: 45 },
    infanterieelite: { niveau1: 13, niveau2: 21, niveau3: 35, niveau4: 78 },
    personnage: { niveau1: 21, niveau2: 35, niveau3: 70, niveau4: 124 },
    personnagemonstrueux: { niveau1: 70, niveau2: 105, niveau3: 210, niveau4: 369 },
    personnagesurmonstre: { niveau1: 113, niveau2: 175, niveau3: 315, niveau4: 630 },
    cavalerie: { niveau1: 16, niveau2: 21, niveau3: 42, niveau4: 75 },
    cavalerielourde: { niveau1: 21, niveau2: 26, niveau3: 54, niveau4: 87 },
    petitvehiculemonstre: { niveau1: 21, niveau2: 35, niveau3: 70, niveau4: 168 },
    grosvehiculemonstre: { niveau1: 70, niveau2: 113, niveau3: 210, niveau4: 393 },
    enormevehiculemonstre: { niveau1: 105, niveau2: 140, niveau3: 280, niveau4: 491 },
    titanvehiculemonstre: { niveau1: 175, niveau2: 245, niveau3: 525, niveau4: 1050 }
};

const categories = Object.keys(tariffs);

function calculateTotals() {
    const niveau = document.getElementById("niveau")?.value || "niveau3";
    document.getElementById("afficheniveau").textContent = niveauLabels[niveau];

    let totalGeneral = 0;

    if (niveau === 'expo') {
        categories.forEach(cat => {
            const divCat = document.getElementById(cat);
            if (divCat) divCat.style.display = 'none';
        });

        ['aimant', 'total', 'montage'].forEach(id => {
            const el = document.getElementById(id);
            if (el) el.style.display = 'none';
        });

        document.getElementById('oktotal').textContent = "Sur devis";
        return;
    }

    categories.forEach(cat => {
        const divCat = document.getElementById(cat);
        if (divCat) divCat.style.display = '';

        const qty = Number(document.getElementById(`${cat}-input`).value) || 0;
        const priceUnit = tariffs[cat][niveau] || 0;
        const totalCat = qty * priceUnit;

        document.getElementById('prix' + cat).textContent = priceUnit.toFixed(2);
        document.getElementById('total' + cat).textContent = totalCat.toFixed(2);
        totalGeneral += totalCat;
    });

    ['aimant-input', 'total', 'montage-input'].forEach(id => {
        const el = document.getElementById(id);
        if (el) el.style.display = '';
    });

    document.getElementById('oktotal').innerHTML = `<strong>Total estimé</strong> : ${totalGeneral.toFixed(2)} €`;
}

function initializeFormCalculations() {
    calculateTotals();

    const form = document.getElementById("contactForm");
    if (form) {
        form.addEventListener("submit", function (event) {
            event.preventDefault();

            const requiredFields = form.querySelectorAll("[required]");
            let isValid = true;
            requiredFields.forEach(field => {
                if (!field.value.trim()) {
                    isValid = false;
                    field.classList.add("error");
                } else {
                    field.classList.remove("error");
                }
            });

            if (!isValid) {
                alert("Veuillez remplir tous les champs obligatoires.");
                return;
            }

            const nom = document.getElementById("nom").value;
            const prenom = document.getElementById("prenom").value;
            const email = document.getElementById("email").value;
            const telephone = document.getElementById("telephone").value;
            const adresse = document.getElementById("adresse").value;
            const cp = document.getElementById("cp").value;
            const ville = document.getElementById("ville").value;
            const pays = document.getElementById("pays").value;
            const niveau = document.getElementById("niveau").value;
            const montage = document.getElementById('montage-input').value || 0;
            const aimant = document.getElementById('aimant-input').value || 0;
            const message = document.getElementById("message").value;

            // Récupération des quantités
            const quantities = {};
            categories.forEach(cat => {
                quantities[cat] = parseInt(document.getElementById(cat + '-input').value) || 0;
            });

            // Récupération du total (si ce n'est pas "Sur devis")
            const totalText = document.getElementById("oktotal").textContent;
            const total = totalText.includes("€") ? parseFloat(totalText.replace(/[^\d.]/g, "")) : 0;

            const subject = `Demande de Devis de ${prenom} ${nom} - ${niveauLabelsmini[niveau]}`;

            let body = "";

            if (niveau === "expo") {
                body =  `Bonjour,\n\nVoici ma demande de devis de peinture (${niveauLabelsmini[niveau]}) :\n` +
                             `${nom}\n${prenom}\n${adresse}\n${cp}\n` +
                             `${ville}\n${pays}\n${email}\n${telephone}\n\n` +
                    `Pièce d'exposition - Sur devis uniquement\n\nMessage :\n${message}\n\nCordialement.`;
            } else {
                body =  `Bonjour,\n\nVoici ma demande de devis de peinture (${niveauLabelsmini[niveau]}) :\n` +
                             `${nom}\n${prenom}\n${adresse}\n${cp}\n` +
                             `${ville}\n${pays}\n${email}\n${telephone}\n\n` +
                    categories.map(cat => `- ${cat} : ${quantities[cat]}`).join('\n') + `\n\n` +
                       `- Montage : ${montage}\n- Aimant : ${aimant}\n\n` +
                       `Total estimé : ${total.toFixed(2)} €\n\nMessage :\n${message}\n\nCordialement.`;
            }

            const mailtoURL = `mailto:studiopeinturefigurine@gmail.com?subject=${encodeURIComponent(subject)}&body=${encodeURIComponent(body)}`;
            window.location.href = mailtoURL;
        });
    }

    // Recalcul automatique quand on modifie le formulaire
    document.querySelectorAll("#contactForm input, #contactForm select").forEach(element => {
        element.addEventListener("input", calculateTotals);
    });
}

document.addEventListener("DOMContentLoaded", initializeFormCalculations);
    
// Appelle la fonction au chargement de la page
document.addEventListener('DOMContentLoaded', initializeGalerie);


    
     

        // Initialisation du formulaire de formation
        function initializeFormationForm() {
            $("#formationForm").off("submit").on("submit", function(e) {
                e.preventDefault();
                const nom = encodeURIComponent($("#nom").val());
                const prenom = encodeURIComponent($("#prenom").val());
                const email = encodeURIComponent($("#email").val());
                const telephone = encodeURIComponent($("#telephone").val());
                const cours = encodeURIComponent($("#cours").val());
                const message = encodeURIComponent($("#message").val() || "Aucun message");

                const subject = `Demande de cours de peinture - ${nom} ${prenom}`;
                const body = `Bonjour,\n\nVoici une nouvelle demande de cours :\nNom : ${nom}\nPrénom : ${prenom}\nEmail : ${email}\nTéléphone : ${telephone}\nCours choisi : ${cours}\n\nMessage :\n${message}\n\nCordialement,\n${prenom} ${nom}`;
                window.location.href = `mailto:studiopeinturefigurine@gmail.com?subject=${subject}&body=${body}`;
            });
        }

function appelimg() {
  return [
    'monstre_1.jpg', 'monstre_2.jpg', 'monstre_3.jpg', 'monstre_4.jpg', 'monstre_5.jpg',
    'titan_1.jpg', 'titan_2.jpg',
    'cavalerie_1.jpg', 'cavalerie_2.jpg', 'cavalerie_3.jpg', 'cavalerie_4.jpg', 'cavalerie_5.jpg',
    'cavalerie_6.jpg', 'cavalerie_7.jpg', 'cavalerie_8.jpg', 'cavalerie_9.jpg',
    'vehicule_1.jpg', 'vehicule_2.jpg', 'vehicule_3.jpg',
    'infanterie_1.jpg', 'infanterie_2.jpg', 'infanterie_3.jpg', 'infanterie_4.jpg', 'infanterie_5.jpg',
    'infanterie_6.jpg', 'infanterie_7.jpg', 'infanterie_8.jpg', 'infanterie_9.jpg', 'infanterie_10.jpg',
    'personnage_1.jpg', 'personnage_2.jpg', 'personnage_3.jpg', 'personnage_4.jpg', 'personnage_5.jpg',
    'personnage_6.jpg', 'personnage_7.jpg', 'personnage_8.jpg', 'personnage_9.jpg', 'personnage_10.jpg',
    'expo_1.jpg', 'expo_2.jpg', 'expo_3.jpg', 'expo_4.jpg'
  ];
}

function initializeGalerie() {
  const imageFilenames = appelimg();
  const basePath = 'img/';
  const gallery = document.getElementById('gallery');
  const filters = document.getElementById('filters');
  const lightbox = document.getElementById('lightbox');
  const lightboxImg = document.getElementById('lightbox-img');
  const categorized = {};

  // Catégorisation automatique par préfixe
  imageFilenames.forEach(filename => {
    const [category] = filename.split('_');
    if (!categorized[category]) categorized[category] = [];
    categorized[category].push(basePath + filename);
  });

  // Ajout de la catégorie "Tous"
  categorized['Tous'] = imageFilenames.map(f => basePath + f);

  // Création des boutons de filtre
  Object.keys(categorized).forEach(cat => {
    const btn = document.createElement('button');
    btn.textContent = cat.charAt(0).toUpperCase() + cat.slice(1);
    if (cat === 'Tous') btn.classList.add('active');
    btn.addEventListener('click', () => {
      document.querySelectorAll('#filters button').forEach(b => b.classList.remove('active'));
      btn.classList.add('active');
      showImages(cat);
    });
    filters.appendChild(btn);
  });

  function showImages(category) {
    gallery.innerHTML = '';
    categorized[category].forEach(src => {
      const img = document.createElement('img');
      img.src = src;
       img.alt = "Miniature Studio Peinture Figurine";
      img.classList.add('gallery-img');
      img.addEventListener('click', () => {
        lightbox.classList.add('active');
        lightboxImg.src = src;
      });
      gallery.appendChild(img);
    });
  }

  lightbox.addEventListener('click', () => {
    lightbox.classList.remove('active');
    lightboxImg.src = '';
  });

  // Affichage initial
  showImages('Tous');
}

// Appel manuel après chargement AJAX
// Ne pas mettre document.addEventListener ici si tu appelles après loadPage()

    </script>


    <header>
      
        <div class="language-selector">
           <a href="../index.html" aria-label="Français">
        <img src="https://upload.wikimedia.org/wikipedia/en/c/c3/Flag_of_France.svg" alt="Français"></a>
               <a href="ES/index.html" aria-label="Español">
        <img src="https://upload.wikimedia.org/wikipedia/en/9/9a/Flag_of_Spain.svg" alt="Español"></a>
    </div>
        
        <div class="logo-container">
             <button onclick="ouvrechat(); return false;" class="chat-button" id="chat-button"> 💬 Envie de discuter ?</button>
    <nav class="chat-box" id="chatBox">
             
        <div class="chat-header">
                    <div class="favicon-container">
                        <img src="/img/moi.jpg" alt="Photo de profil Studio Peinture Figurine">
                        <div class="status-indicator"></div>
                    </div>
                    <button class="fermechat" id="fermechat" onclick="fermechat(); return false;"></button>
                </div>
        
                <div class="chat-content" id="chatContent"></div>
                <div class="chat-input-container">
            <input type="text" class="chat-input" id="chatInput" name="myInput" placeholder="Écrivez ici..." onkeypress="handleKeyPress(event);">
            <button class="sendButton" id="sendButton" onclick="sendMessage(); return false;">▶</button>
                </div>
            </nav>
            <a href="index.html" class="logo-link" aria-label="Retour à l'accueil">
                <img src="/img/logo.png" alt="Logo Studio Peinture Figurine" class="logo">
            </a>
        </div>
        
        <div class="social">
        <div class="social-bloc">
        <p class="p-social">Boutique :</p>
        <div class="social-container">
           <div class="social-align"> <a href="https://peinturefigurine.etsy.com" target="_blank" rel="noopener noreferrer" class="social-icon etsy" aria-label="etsy"><i class="fab fa-etsy"></i></a> </div>
           <div class="social-align"> <a href="https://www.patreon.com/peinturefigurine" target="_blank" rel="noopener noreferrer" class="social-icon patreon" aria-label="patreon"><i class="fab fa-patreon"></i></a> </div>
        </div>
                 </div>
           <div class="social-bloc-vide">  </div>
       <div class="social-bloc">
        <p class="p-social">Réseaux :</p>
        <div class="social-container">
            <div class="social-align"><a href="https://www.facebook.com/peinturefigurine.fr" target="_blank" rel="noopener noreferrer" class="social-icon facebook" aria-label="Facebook"><i class="fab fa-facebook-f"></i></a> </div>
            <div class="social-align"><a href="https://www.instagram.com/peinturefigurine.fr/" target="_blank" rel="noopener noreferrer" class="social-icon instagram" aria-label="Instagram"><i class="fab fa-instagram"></i></a> </div>
           <div class="social-align"> <a href="https://www.twitch.tv/pfpeinturefigurine" target="_blank" rel="noopener noreferrer" class="social-icon twitch" aria-label="Twitch"><i class="fab fa-twitch"></i></a> </div>
         </div>
                     </div>
             <div class="social-bloc-vide">  </div>
       <div class="social-bloc">
       <p class="p-social">Contact :</p>
         <div class="social-container">   
           <div class="social-align"> <a href="https://discord.gg/Jpa4yvfQVN" target="_blank" rel="noopener noreferrer" class="social-icon discord" aria-label="Discord"><i class="fab fa-discord"></i></a> </div>
            <div class="social-align"><a href="https://wa.me/33775860837" target="_blank" rel="noopener noreferrer" class="social-icon whatsapp" aria-label="WhatsApp"><i class="fab fa-whatsapp"></i></a> </div>
         </div>
            </div>
        </div>

        <div class="menucenter">
            <button onclick="$('#formSection').toggle();" class="button menu-button-mobile-only">Menu</button>
        </div>
        <nav id="formSection" class="menu-mobile-only">
            <ul class="menu">
                <li><a href="peinturecommission.html" onclick="loadPage('peinturecommission.html'); return false;">Peinture TableTop 🎨</a></li>
                <li><a href="figconcours.html" onclick="loadPage('figconcours.html'); return false;">Figurine de concours/exposition 🏆</a></li>
                <li><a href="piecepopculture.html" onclick="loadPage('piecepopculture.html'); return false;">Pièce de Collection Pop Culture 🔥</a></li>
                <li><a href="impression3d.html" onclick="loadPage('impression3d.html'); return false;">Impression à la demande 🖨️</a></li>
                <li><a href="formation.html" onclick="loadPage('formation.html'); return false;">Formation 📚</a></li>
                <li><a href="simulateur_devis.html" onclick="loadPage('simulateur_devis.html'); return false;">Simulateur de devis 💰</a></li>
                <li><a href="galerie.html" onclick="loadPage('galerie.html'); return false;">Galerie 🖼️</a></li>
            </ul>
        </nav>
    </header>

    <div class="info-container">
        <p class="info" id="infoParagraph">En attente du contenu...</p>  
    </div>

    <!-- Contenu principal qui change dynamiquement -->
  <div id="contenu-principal">
  <h1>🎨 Sublimez vos figurines, faites-les briller ! ✨</h1>

  <p>
    Bienvenue chez <span class="highlight">Studio Peinture Figurine</span>, l’atelier qui transforme vos modèles en véritables pièces de collection 🧡.  
    Pour le <strong>jeu</strong>, l’<strong>expo</strong> ou la <strong>vitrine</strong>, chaque détail compte.
  </p>

      <p>🔧 Montage & préparation soignée.</p>
      <p>🖌️ Peinture de qualité sur mesure.  </p>
      <p>🧪 Impression 3D & soclage créatif.  </p>


  <p>
    Offrez à vos figurines l’excellence qu’elles méritent.  
  </p>

 <div class="banniere">
            <a href="simulateur_devis.html" class="button"  onclick="loadPage('simulateur_devis.html'); scrollToTop(); return false;">Demander une simulation 💬</a>
        </div>
</div>


    <footer>
             
        <div class="widget-container">
        <!-- Elfsight Google Reviews | Untitled Google Reviews -->
<script src="https://static.elfsight.com/platform/platform.js" async></script>
<div class="elfsight-app-463acf2e-5048-48a6-9882-53b170867aaf" data-elfsight-app-lazy></div>
      </div>  
        <p>Contact 📧 : <a href="mailto:studiopeinturefigurine@gmail.com">studiopeinturefigurine@gmail.com</a> - Téléphone 📞 : <a href="tel:+33775860837">07 75 86 08 37</a></p>
        <p>© 2025 Studio Peinture Figurine. Tous droits réservés. SIRET : 832 040 380 00020</p>
        <h3>Nos Partenaires :</h3>
        <ul>
            <li><a href="https://www.totalwargame.com/fr/" target="_blank" rel="noopener noreferrer">Total Wargames</a></li>
            <li><a href="https://ncsinformatique.com/" target="_blank" rel="noopener noreferrer">NCS Informatique</a></li>
        </ul>
        <p><a href="conditions.html"  onclick="loadPage('conditions.html');  scrollToTop(); return false;">Conditions générales de vente 📜</a></p>
        <p><a href="mentionslegales.html"  onclick="loadPage('mentionslegales.html');  scrollToTop(); return false;">Mentions Légales 💼</a></p>
        <p><a href="horaires.html"  onclick="loadPage('horaires.html');  scrollToTop(); return false;">Horaires d'ouverture et Fermetures pour Congés 🕖</a></p>
        <p>Site Vitrine créé par <strong>Studio Peinture Figurine</strong> - v4.0 - @ 2025 Tous droits réservés. </p>
        <!-- Bouton de retour en haut -->
        <button id="scrollToTopBtn" title="Retour en haut ⬆️" onclick="scrollToTop()">↑</button>
        <script>
            // Gestion du bouton de retour en haut et du menu
            const scrollToTopBtn = document.getElementById("scrollToTopBtn");
            const menu = document.getElementById("formSection");

            window.onscroll = function() {
                if (document.body.scrollTop > 50 || document.documentElement.scrollTop > 50) {
                    scrollToTopBtn.style.display = "block";
                    if (isMobile()) {
                        menu.style.display = "none";
                    } else {
                        menu.style.display = "block";
                    }
                } else {
                    scrollToTopBtn.style.display = "none";
                }
            };

            function scrollToTop() {
                window.scrollTo({
                    top: 0,
                    behavior: "smooth"
                });
            }
        </script>
    </footer>

</body>
</html>
